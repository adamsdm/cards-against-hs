<html>
<head>
    <script src="/vendor/jQuery/jQuery-3.1.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/comp.css">
</head>

<body>
    <div id="bc-container">
        <h1 id="black-card">Cards against humanity</h1>
    </div>

    <button id="req-card"> Request new card </button>
    <p id="textToSpeechBar">
        <label for="textToSpeech">Text to speech</label>
        <input type="checkbox" id="textToSpeech">
    </p>


    <script type="text/javascript">
        
        var socket = io.connect('http://192.168.0.7:3000');
        var sound = document.getElementById("textToSpeech");


        socket.on('debug', function(text){
            console.log(text);
        })



        $('#req-card').click( function() {
            socket.emit('reqcard');
        });

        socket.emit('adduser', prompt("Enter username"), prompt("Enter roomcode"));



        socket.on('update-black-card', function (text) {

            //Text to speech
            if(sound.checked){
                var t2t = text;
                t2t = text.replace(/_/g, ", blank,");
                t2t = t2t.substring(0, t2t.length-3);
                var msg = new SpeechSynthesisUtterance(t2t);
                window.speechSynthesis.speak(msg);
            }
            
            
    		

            $('#black-card').html(text);
    	});

    </script>

</body>

</html
